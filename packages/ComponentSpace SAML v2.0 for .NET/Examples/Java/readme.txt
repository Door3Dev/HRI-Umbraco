Java Examples
=============

Included are some simple example Java classes that may be used to generate 
and verify XML digital signatures for SAML assertions, requests and responses.

You can use these classes to confirm that signatures generated by the 
ComponentSpace SAML component can be verified by Java and vice versa.

Some of the examples make use of the Java OpenSAML class library.


Prerequisites
=============

You will need to download and install the following to run the examples:

* Java (www.sun.com)

Please ensure you have the latest version of Java. 
The minimum required version of Java is 1.6 with update 13.

If you wish to run SignSAML and VerifySAML, you will also need:

* OpenSAML (www.opensaml.org)
* SLF4J (www.slf4j.org)

If you receive an error from OpenSAML saying not to use the Sun XML parser,
copy the Xerces implementation (xercesImpl.jar) to the JRE's endorsed
directory (eg. C:\Program Files\Java\jre6\lib\endorsed).

* Xerces (www.apache.org)

If you wish to run ParseHttpRedirectUrl, you will also need:

* Java EE (www.sun.com)
* Spring Framework (www.springframework.org)

The examples were built using Eclipse (www.eclipse.org).

Copy the prerequisite jar files to the lib directory.

You can confirm what jar files are required by the CLASSPATH
set in each of the batch files to run the examples.


Running the Examples
====================

The following batch files may be used to run the example classes:

* SignSAML.bat
* VerifySAML.bat
* ParseHttpRedirectUrl.bat
* VerifyXMLSignature.bat

The test.jks includes a test key and certificate identical to the one 
contained in test.pfx which is used by the ComponentSpace SAML component
examples. 

The password to test.jks and test.pfx is "password".


XML Signature Example
=====================

The VerifyXMLSignature.bat uses Java 1.6 or better to verify XML signatures.
It does not require OpenSAML.

It also specifies a logging.properties file that turns debug on to assist with 
tracking down XML signature related problems.
